<!DOCTYPE html>
<html>
	<head>
	
	<link href="//gmpg.org/xfn/11" rel="profile">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link rel="canonical" href="http://journal.madebychip.com/blog/making-applications-icon-smaller-on-gnome-shells-top-panel" />
	<meta name="description" content="I'm a huge fan of GNOME Shell. Using it since the release of version 3.0, is great to see how things has been polished." />
	<meta property="og:description" content="I'm a huge fan of GNOME Shell. Using it since the release of version 3.0, is great to see how things has been polished." />
	<meta itemprop="image" content="http://journal.madebychip.com/media/2013-11-19-making-applications-icon-smaller-on-gnome-shells-top-panel/cover.jpg" />
	<meta property="og:image" content="http://journal.madebychip.com/media/2013-11-19-making-applications-icon-smaller-on-gnome-shells-top-panel/cover.jpg" />
	<meta content="color" property="og:color">
	<meta property="og:title" content="Making application's icon smaller on GNOME Shell's top panel" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://journal.madebychip.com/blog/making-applications-icon-smaller-on-gnome-shells-top-panel" />
	<meta property="og:site_name" content="journal | madebychip" />
	<title>Making application's icon smaller on GNOME Shell's top panel &middot; journal | madebychip</title>
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" media="only screen and (min-width: 900px)" href="/assets/css/desktop.css" />
	<link rel="stylesheet" type="text/css" media="only screen and (max-width: 899px)" href="/assets/css/mobile.css" />
	<link href="/assets/css/genericons.css" type="text/css" rel="stylesheet" />
	<link href="/assets/css/syntax.css" type="text/css" rel="stylesheet" />
	<!-- <link rel="stylesheet" href="//fonts.googleapis.com/css?family=TisaPro:400,400italic"> -->
	<link rel="apple-touch-icon" href="http://journal.madebychip.com/assets/images/icon.png">
	<link rel="shortcut icon" href="http://journal.madebychip.com/assets/images/favicon3.ico">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="http://journal.madebychip.com/atom.xml">
	<meta name="google-site-verification" content="dxHJfJrwqWqaCiGZcfJ6xGM5n15rRRgS6ae699FLo3w" />	
	<script type="text/javascript" src="/assets/js/jquery-2.1.0.min.js"></script>
	<script type="text/javascript" src="/assets/js/jquery.stellar.min.js"></script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-50345729-1', 'madebychip.com');
	  ga('send', 'pageview');

	</script>
</head>

	<body>
		<header class="clean" style="background-color: ; background-image: url(/media/2013-11-19-making-applications-icon-smaller-on-gnome-shells-top-panel/cover.jpg);  height: 100%;" data-stellar-background-ratio="0.5" data-stellar-horizontal-offset="50">
	
	<label class="menu" for="_1">
	<span class="genericon genericon-menu"></span>
</label>
<input id="_1" type="checkbox">
<div class="menu-content">
	<p class="menu-title">journal | madebychip<p>
	<div class="menu" style="background-color: #1a1a1a; z-index: -1;"></div>
	
		<a href="http://madebychip.com">Portfolio</a>
	
		<a href="blog/hello-world/">About</a>
	
	<hr>
	
		<a href="https://twitter.com/lcdvirgo" class="social-links-menu" target="_blank" title="Follow me on twitter"><span class="genericon genericon-twitter"></span></a>
	
		<a href="https://github.com/lcdvirgo" class="social-links-menu" target="_blank" title="Fork me on github"><span class="genericon genericon-github"></span></a>
	
		<a href="http://plus.google.com/u/0/104292088680089345189" class="social-links-menu" target="_blank" title="Add me on google+"><span class="genericon genericon-googleplus-alt"></span></a>
	
</div>
<div class="social-links" data-stellar-ratio="0.1">
	
		<a href="https://twitter.com/lcdvirgo" target="_blank" title="Follow me on twitter"><span class="genericon genericon-twitter"></span></a>
	
		<a href="https://github.com/lcdvirgo" target="_blank" title="Fork me on github"><span class="genericon genericon-github"></span></a>
	
		<a href="http://plus.google.com/u/0/104292088680089345189" target="_blank" title="Add me on google+"><span class="genericon genericon-googleplus-alt"></span></a>
	
</div>

	<div id="post-info" data-stellar-ratio="0.7">
		<h1>Making application's icon smaller on GNOME Shell's top panel</h1>
		
			<h2>I'm a huge fan of GNOME Shell. Using it since the release of version 3.0, is great to see how things has been polished.</h2>
		
		<a class="site-title" href="http://journal.madebychip.com"><div class="site-icon-small" style="background-image: url(/assets/images/profile.jpg);"></div><!--journal | madebychip-->Chip Dong Lim</a>,  November 19,  2013
	</div>
	
	<div id="img-info" data-stellar-ratio="0.5">
		<a href="https://gitorious.org/gnome-design/gnome-design/source/50d3b20057f797d8ba37579a9baf9792a92aa0a7:wallpaper/3.12" target="_blank" title="Fonte da imagem"><span class="genericon genericon-external"></span></a>
	</div>
	
	<div id="nav-icon" style="bottom: 30px;" data-stellar-ratio="0.5">
		<a class="scroll" data-speed="500" href="#article"><span class="genericon genericon-expand"></span></a>
	</div>
</header>
<div id="middle">
	<div id="article">
		<p>I’m a huge fan of GNOME Shell. Using it since the release of version 3.0, is great to see how things has been polished. However, one of the things that always annoyed me is the app icon on the top bar, because it’s unnecessarily big, in my opinion.</p>

<p>A long time ago I found <a href="http://www.gregfreeman.org/2011/remove-application-icon-from-gnome-3/">this good tutorial</a> showing how to remove the icon, but it was not what I wanted, I just wanted to make it smaller, like this:</p>

<div id="article-img"><a href="https://github.com/gnome-design-team/gnome-mockups/raw/master/music/music-albums.png" target="_blank"><img src="https://github.com/gnome-design-team/gnome-mockups/raw/master/music/music-albums.png" alt="GNOME Music's mockup showing a smaller icon on the top panel, via GNOME Wiki" /></a>
<blockquote style="border-left: 10px solid #D5D5D5;">GNOME Music's mockup showing a smaller icon on the top panel, via GNOME Wiki</blockquote></div>

<p>So, after a lot of unsuccessful tentatives on changing <em>gnome-shell.css</em>, I realized that this setup is made with <em>javascript</em>, and not just <em>css</em>, and I decided to write this small tutorial.</p>

<div class="message"><strong>Disclaimer</strong>: the following procedures were made on version 3.10 of gnome-shell. I don't guarantee that it'll work in previous versions, neither in later versions, nor even in version 3.10, and I'm not responsible for possible damage to your system.</div>

<p>The files you’ll have to change are:</p>

<ol>
  <li><strong>/usr/share/gnome-shell/js/ui/panel.js</strong>: to change the size of the icon.</li>
  <li><strong>/usr/share/gnome-shell/theme/gnome-shell.css</strong> (or, if you’re using a custom theme, its respective <em>css</em>): to move the icon slightly to the left.</li>
</ol>

<p>On <em>panel.js</em>, you will need to apply the following patch:</p>

<div class="highlight"><pre><code class="diff">295c295
&lt;         let icon = this._targetApp.get_faded_icon(2 * PANEL_ICON_SIZE, this._iconBox.text_direction);
<span class="gd">---</span>
&gt;         let icon = this._targetApp.get_faded_icon(PANEL_ICON_SIZE, this._iconBox.text_direction);
350,351c350,351
&lt;         alloc.min_size = minSize;
&lt;         alloc.natural_size = naturalSize;
<span class="gd">---</span>
&gt;         alloc.min_size = minSize + Math.floor(PANEL_ICON_SIZE * 2);
&gt;         alloc.natural_size = naturalSize + Math.floor(PANEL_ICON_SIZE * 2) ;
397,398c397,398
&lt;             childBox.x1 = Math.floor(iconWidth / 2);
&lt;             childBox.x2 = Math.min(childBox.x1 + naturalWidth, allocWidth);
<span class="gd">---</span>
&gt;             childBox.x1 = Math.floor(iconWidth + 3);
&gt;             childBox.x2 = Math.floor(iconWidth + 3) + Math.min(childBox.x1 + naturalWidth, allocWidth);
400c400
&lt;             childBox.x2 = allocWidth - Math.floor(iconWidth / 2);
<span class="gd">---</span>
&gt;             childBox.x2 = allocWidth - Math.floor(iconWidth + 3);
</code></pre></div>

<p>You can change these lines manually, or download the diff <a href="https://gist.github.com/camporez/8566608/download">here</a>, and apply it with the following command:
<code>sudo patch /usr/share/gnome-shell/js/ui/panel.js panel.js.diff</code></p>

<p>The changes on the css are small so you just need to open it with your favorite editor and add the line <code>padding-left: 10px;</code> to the selector <code>#appMenu</code>, like this:</p>

<div class="highlight"><pre><code class="css"><span class="nf">#appMenu</span> <span class="p">{</span>
    <span class="n">spinner</span><span class="o">-</span><span class="n">image</span><span class="o">:</span> <span class="sx">url(&quot;process-working.svg&quot;)</span><span class="p">;</span>
    <span class="n">spacing</span><span class="o">:</span> <span class="m">4px</span><span class="p">;</span>
    <span class="k">padding-left</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Now, you just need to restart gnome-shell (press ALT + F2 and type r + ENTER) and it’s done.</p>

<p>This is how it (plus another tweaks on gnome-shell.css) made my desktop looks like:
<img src="/media/2013-11-19-making-applications-icon-smaller-on-gnome-shells-top-panel/Captura_de_tela_de_2013_11_19_13_12_42.png" alt="My desktop today" />
If you have any suggestion or feedback, please contact me <a href="http://google.com/+IanCamporezBrunelli">via Google+</a>. Thank you!</p>

	</div>
	
	<div id="comments">
		
	
	<script src="https://apis.google.com/js/plusone.js"></script>
	<div id="g-comments" class="g-comments" data-href="http://journal.madebychip.com/blog/making-applications-icon-smaller-on-gnome-shells-top-panel" data-width="700" data-first_party_property="BLOGGER" data-view_type="FILTERED_POSTMOD"></div>
	<script>
		var width = $('#comments').width() * 0.9;
		width = Math.round(width);
		$("#g-comments").attr({ "data-width": width });
	</script>


	</div>
	
</div>

	
	
	
	
	
	
	

<footer class="clean" style="background-image: url(/assets/images/cover.jpg); background-color: ; height: 75%; min-height: 500px;" data-stellar-background-ratio="0.5" data-stellar-horizontal-offset="50" data-stellar-vertical-offset="50">
	<div id="nav-icon" style="top: 60px;" data-stellar-ratio="0.8">
		<a class="scroll" data-speed="500" href="#article"><span class="genericon genericon-collapse"></span></a>
	</div>
	<div id="post-info" data-stellar-ratio="0.5" data-stellar-vertical-offset="120">
		<h3>READ ON</h3>
		<a href="/blog/thinny-2">
			<h1>Thinny 2: a Jekyll theme</h1>
			
				<h2>The Infinite's Nymphet has a new look, a new codename, and a new platform!</h2>
			
		</a>
	</div>
	<p class="copyright">&copy;2014, <a href="http://madebychip.com" target="_blank">Chip Dong Lim</a>. <a href="" target="_blank"></a>.</p>
</footer>
<script src="/assets/js/smooth-scroll.js"></script>

		<script>
		var width = $(window).width()
		if ( width > 899 )
		$( function(){
		    $.stellar({
			verticalScrolling: true,
			horizontalOffset: 0,
			verticalOffset: 0,
			positionProperty: 'transform',
			responsive: true
		    });
		});
		</script>
	</body>
</html>
